**BASE64编码**
1 将待转换的字符串每三个字节分为一组，每个字节占8bit，那么共有24个二进制位。
2 将上面的24个二进制位每6个一组，共分为4组。
3 在每组前面添加两个0，每组由6个变为8个二进制位，总共32个二进制位，即四个字节。
4 根据Base64编码对照表（A-Z a-z 0-9 + /）获得对应的值，缺失的位用=补上。
**获取唯一ID**
* uuid
* mysql自增主键
* redis的incr()
* 雪花算法

雪花算法Snowflake 结构是一个 64bit 的 int64 类型的数据。位置一般的情况可以根据自己的业务情况进行调整：
| 位置 | 大小 | 作用 |
| --- | --- | --- |
| 0～11bit | 12bits | 序列号，用来对同一个毫秒之内产生不同的ID，可记录4095个 |
| 12～21bit | 10bits | 10bit用来记录机器ID，总共可以记录1024台机器 |
| 22～62bit | 41bits | 用来记录毫秒时间戳，这里可以记录69年 |
| 63bit | 1bit | 符号位，不做处理 |

**正则表达式**
pcre库 linux正则表达式库


捕获分组和后向引用
示例：(\d)\d\1匹配707

贪心：匹配尽可能多的字符，会进行回溯。
```
* 0个或多个 {0,}
? 0个或1个 {0,1}
+ 1个或多个 {1,}
```

懒惰、占有，没啥用

. 任意字符

\w 匹配字母、数字、下划线

零宽度断言：断言字符不会返回到结果中。
环视：
正前瞻：`abc(?=def)`
反前瞻：`abc(?!def)`
正后顾：`(?<=def)abc`
反后顾：`(?<!def)abc`
示例：
```
# 密码应当8~20个字符，至少1个大写字母，1个小写字母，1个数字和1个特殊字符（$@!%*?&）
^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@!%*?&])[A-Za-z\d$@!%*?&]{8,20}$
```

^$

i 不区分大小写

**OAuth** 
授权码模式（Authorization Code）
隐式授权模式（Implicit）
密码模式（Resource Owner Password Credentials）
客户端模式（Client Credentials）
授权码模式开放授权，允许用户向第三方应用提供某一网站的私密数据，而不用将用户的账号密码提供给第三方。以令牌（Token）代替用户密码作为授权的凭证。有了令牌之后，哪怕令牌被泄漏，也不会导致密码的泄漏；令牌上可以设定访问资源的范围以及时效性；每个应用都持有独立的令牌，哪个失效都不会波及其他。
授权码模式：
1 第三方应用先要到授权服务器上进行注册，所谓注册，是指向认证服务器提供一个域名地址，然后从授权服务器中获取 ClientID 和 ClientSecret，
2 第三方应用将资源所有者（用户）导向授权服务器的授权页面，并向授权服务器提供 ClientID 及用户同意授权后的回调 URI
3 如果用户同意授权，授权服务器将转向第三方应用在第 1 步调用中提供的回调 URI，并附带上一个授权码和获取令牌的地址作为参数
4 第三方应用通过回调地址收到授权码，然后将授权码与自己的 ClientSecret 一起作为参数，通过服务器向授权服务器提供的获取令牌的服务地址发起请求，换取令牌。
5 授权服务器核对授权码和 ClientSecret，确认无误后，向第三方应用授予令牌。
6 资源服务器根据访问令牌所允许的权限，向第三方应用提供资源。
访问令牌的时效性一般设计的比较短，因为很难（需要付出较大代价）有其他方式让它失效。

JWT是一种广泛使用的令牌格式，JSON结构，可用于单客户端对应多服务器的场景。无状态（难以统计实时在线人数）,令牌难以主动失效。

**认证与鉴权**
单点认证（单点登录）Single Sign On，简称就是SSO，实现方式：认证中心。

`curl -u username:password`形式使用的是http authentication 中的basic形式，将testclient:testpass进行base64加密得到 dXNlcm5hbWU6c2VjcmV0 然后前面加上一个Basic和空格  
Authorization: Basic dGVzdGNsaWVudDp0ZXN0cGFzcw==

* ACL Access Control List  
* ABAC Attribute-Based Access Control  
* RBAC Role-Based Access Control rbac0 rbac1 rbac2

APISIX 是基于 NGINX + Lua, 即openresty 实现的


重放攻击 时间戳+随机数(nonce)

**MEMCACHE**
memcache支持简单数据类型，不支持数据持久存储，Redis在很多方面具备数据库的特征，或者说就是一个数据库系统，而Memcached只是简单的K/V缓存。redis支持单核，memcache支持多核。

