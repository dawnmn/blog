#### **服务器说明**
通过WMware创建多个SQL服务器
|    名称 |IP     |
| --- | --- |
| master    | 192.168.177.133    |
| slave | 192.168.177.132    |

#### **maser配置**
```
# 登录
mysql  -uroot  -p

# 创建测试数据库dbtest
create database dbtest;
use dbtest;
CREATE TABLE `door` (
  `id` mediumint(8) UNSIGNED NOT NULL COMMENT 'ID',
  `name` varchar(20) NOT NULL COMMENT '名称',
  `gym_id` smallint(5) UNSIGNED NOT NULL COMMENT '健身房ID'
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='门禁表';
INSERT INTO `door` (`id`, `name`, `gym_id`) VALUES
(1, '恒大店人脸', 1),
(2, '恒大店扫码', 1),
(3, '驿都店人脸', 3),
(4, '驿都店扫码', 3);

# 导出dbtest
`mysqldump -u root -p dbtest>/var/download/dbtest.sql`

# 配置只读
set global read_only=1;
show global variables like "%read_only%";
flush tables with read lock;

# 配置my.cnf
service mysqld stop
vim /etc/my.cnf
[mysqld]
log-bin=mysql-bin
server-id=1
binlog-do-db=dbtest
service mysqld start
mysql  -uroot  -p

# 创建从用户



```